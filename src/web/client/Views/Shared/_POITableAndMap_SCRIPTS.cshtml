@model Yojowa.StopByStop.Web.Models.PoiListModel

<script type="text/javascript">
    var junctionData = @Html.Raw(RenderHelper.ToJSON(Model.RouteJunction));

    var junctionAppViewModel = new StopByStop.JunctionAppViewModel(
        junctionData, /*junction*/
        StopByStop.PoiType.@(Model.PoiTypeToShow.ToString()), /*poi type to show*/
        '@(Model.RouteId)', /*route id*/
        $("#map")[0], 
        $(".poi-map")[0] 
        );
    
    // bind pois list and filter dialog separately, because we will bind map poi template separately later
    ko.applyBindings(junctionAppViewModel, $(".pois-list")[0]);
    ko.applyBindings(junctionAppViewModel, $("#filterDialog")[0]);
    ko.applyBindings(junctionAppViewModel, $("#stopSettingsDialog")[0]);

    // wire up navigation on all buttons
    // wireUpBtnNavigate();
</script>
